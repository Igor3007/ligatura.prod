document.addEventListener("DOMContentLoaded",(function(){var app=new Vue({el:"#calculator",data:{PARAMS:PARAMS,PACK_TYPE:"pvd",PACK_SIZE:!1,PACK_COLOR:!1,PACK_COLORFUL:"1+0",PACK_COUNT:50,PACK_COLOR_PRICE:0,PACK_COLORFUL_PRICE:0,ERROR_LOG:!1},mounted:function(){console.log(PARAMS)},methods:{getSize:function(){let sizesArray=this.PARAMS.type[this.PACK_TYPE].size;return this.PACK_SIZE||(this.PACK_SIZE=sizesArray[0].title),sizesArray},getColor:function(){let sizesArray,colorArray=this.PARAMS.type[this.PACK_TYPE].size.find(item=>item.title==this.PACK_SIZE);return this.PACK_COLOR||(this.PACK_COLOR=colorArray.colors[0].title,this.PACK_COLOR_PRICE=colorArray.colors[0].price),colorArray.colors},getColorfulness:function(){return this.PACK_COLORFUL||(this.PACK_COLORFUL="1+0"),this.PARAMS.colorfulness[0].price},getCount:function(value){return value<50?(this.PACK_COUNT=50,void(this.ERROR_LOG="Тираж не менее 50 шт")):value>2e3?(this.PACK_COUNT=2e3,void(this.ERROR_LOG="Тираж не более 2000 шт")):(this.ERROR_LOG=!1,this.PACK_COUNT=50*Math.ceil(value/50),void console.log(50*Math.ceil(value/50)))},changePrice:function(type,value){switch(type){case"color":this.PACK_COLOR_PRICE=value;break;case"colorful":this.PACK_COLORFUL_PRICE=value}},getTotalPrice:function(){if(!this.PACK_COUNT)return this.ERROR_LOG="Заполните поле тираж",0;if(this.PACK_COUNT<=180){let colorful=this.PARAMS.colorfulness.find(item=>this.PACK_COUNT>=item.min&&this.PACK_COUNT<=item.max),total;return(Number(colorful.price[this.PACK_COLORFUL])+Number(this.PACK_COLOR_PRICE)*Number(this.PACK_COUNT)).toFixed(2)}if(this.PACK_COUNT>180){let colorful=this.PARAMS.colorfulness.find(item=>this.PACK_COUNT>=item.min&&this.PACK_COUNT<=item.max),tolal;return((Number(colorful.price[this.PACK_COLORFUL])+Number(this.PACK_COLOR_PRICE))*Number(this.PACK_COUNT)).toFixed(2)}},getResultDesc:function(){let resultList=[];return resultList.push({name:"Тип",value:this.PARAMS.type[this.PACK_TYPE].name}),resultList.push({name:"Размер",value:this.PACK_SIZE}),resultList.push({name:"Цвет",value:this.PACK_COLOR}),resultList.push({name:"Цветность",value:this.PACK_COLORFUL}),resultList.push({name:"Тираж",value:this.PACK_COUNT+"шт"}),resultList}},watch:{PACK_TYPE:function(){this.PACK_SIZE=!1,this.PACK_COLOR=!1},PACK_SIZE:function(){this.PACK_COLOR=!1}}})}));